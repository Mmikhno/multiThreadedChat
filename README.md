## Общая схема работы сервиса

1. Сервер считывает порт из файла _settings.json_.
2. Сервер запускается.
3. Сервер ожидает подключение клиента (прослушивает порт, указанный в файле настроек).
4. Клиент запрашивает подключение.
5. Клиент подключается:
   - клиент считывает настройки (хост и порт) из файла _settings.json_;
   - создается соединение;
   - соединение запоминается в списке.
     - каждое соединение - отдельный поток, обслуживающий отдельного клиента;
   - клиент указывает свой никнейм;
   - клиент отправляет никнейм на сервер;
   - запускаются два отдельных потока:
     - на чтение входящих сообщений от сервера;
     - на отправку исходящих сообщений серверу.
6. Клиент отправляет сообщение серверу:
   - сообщение вводится с консоли:
     - **"/exit"** -> клиент отключается и удаляется из списка пользователей;
     - **"/allUsers"** -> клиент получает список всех пользователей чата онлайн;
   - к тексту сообщения добавляется штамп времени и никнейм пользователя и оно отправляется на сервер;
   - отправленнное на сервер сообщение записывается в логе клиента.
7. Сервер получает сообщения от клиента:
   - сервер получает никнейм клиента;
     - сервер проверяет наличие никнейма в списке пользователей
       - никнейм уже существует -> к никнейму добавляется суффикс - случайная последовательность чисел;
     - никнейм добавляется в список пользователей чата;
     - сервер отправляет всем участникам уведомление о подключении нового участника.
   - сервер читает сообщение от клиента;
     - **"/exit"** -> сервер отправляет всем участникам уведомление о том, что участник покинул чат;
     - **"/allUsers"** -> сервер отправляет клиенту список пользователей чата онлайн
     - сервер форматирует полученное сообщение - добавляет штамп времени и никнейм пользователя;
     - сервер отправляет сообщение остальным участникам чата (кроме отправителя)
     - сервер записывает отправленное сообщение в лог.
